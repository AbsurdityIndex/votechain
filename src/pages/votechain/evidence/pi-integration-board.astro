---
import BaseLayout from '../../../layouts/BaseLayout.astro';
import MermaidClient from '../../../components/votechain/MermaidClient.astro';

---

<BaseLayout
  title="VoteChain Raspberry Pi Integration Board"
  description="Visual wiring and networking board for integrating Raspberry Pi vote machines into VoteChain test benches."
  ogType="article"
  article={{
    publishedTime: '2026-02-12',
    modifiedTime: '2026-02-12',
    author: 'Absurdity Index',
    section: 'Engineering',
    tags: ['votechain', 'evidence', 'diagram board'],
  }}
>
      <article class="board-canvas">
        <div class="page">
          <nav class="board-breadcrumb" aria-label="Breadcrumb">
            <a href="/votechain">VoteChain</a>
            <svg viewBox="0 0 24 24" width="14" height="14" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 18l6-6-6-6"/></svg>
            <span>Evidence Boards</span>
          </nav>
          <section class="hero">
            <div class="hero-top">
              <div class="hero-text">
                <p class="hero-kicker">VoteChain Raspberry Pi Test Bench</p>
                <h1>Physical Wiring + Network<br/>Integration Map</h1>
                <p class="hero-subtitle">
                  Concrete layout for test elections: Raspberry Pi booth machines, switch fabric, VLAN/subnet isolation,
                  one-way transfer boundary, and airgap/central reconciliation path.
                </p>
              </div>
              <div class="hero-verdict">
                <div class="verdict-ring">
                  <svg viewBox="0 0 48 48" class="verdict-check"><path d="M14 24l8 8 12-14" fill="none" stroke="currentColor" stroke-width="3.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
                </div>
                <div class="verdict-label">All Diagrams Live</div>
              </div>
            </div>
            <div class="top-metrics">
              <div class="metric"><div class="metric-label">Booth Pis</div><div class="metric-value">5</div></div>
              <div class="metric"><div class="metric-label">Ops Pi</div><div class="metric-value">1</div></div>
              <div class="metric"><div class="metric-label">Airgap Pis</div><div class="metric-value">5</div></div>
              <div class="metric"><div class="metric-label">Central Hosts</div><div class="metric-value">5</div></div>
              <div class="metric"><div class="metric-label">VLANs</div><div class="metric-value">3</div></div>
              <div class="metric"><div class="metric-label">Sessions/Booth</div><div class="metric-value">100</div></div>
              <div class="metric metric-pass"><div class="metric-label">Total Sessions</div><div class="metric-value">500</div></div>
            </div>
          </section>

      <section class="panel-grid">
        <article class="panel panel-topology" data-panel="pi-lab-topology">
          <p class="label">End-To-End Topology</p>
          <h2>Where Every Raspberry Pi Sits</h2>
          <p>Left to right: polling-place booth Pis, transfer boundary, airgap Pis, central verification hosts.</p>
          <pre data-language="mermaid">{`%% diagram-id: pi-lab-topology
flowchart LR
  classDef hw fill:#e8d5b0,stroke:#a88b4a,stroke-width:1.5px
  classDef net fill:#dce7f5,stroke:#3a6fa0,stroke-width:1.5px
  classDef db fill:#f0ebe0,stroke:#8a6e36,stroke-width:1.5px
  classDef sec fill:#d9eee2,stroke:#2d8a5e,stroke-width:1.5px
  subgraph POLL["Boundary: Polling Place Zone (VLAN10)"]
    direction TB
    PMETA["<img src='/votechain/evidence/icons/router.svg' width='24' height='24'/><b>Polling Boundary</b><br/><span style='font-size:0.8em;opacity:0.65'>VLAN10 polling LAN · Ports 22, 443, 9100</span>"]:::net
    B1["<img src='/votechain/evidence/icons/raspberry-pi.svg' width='24' height='24'/><b>Booth Pi 1</b><br/><span style='font-size:0.8em;opacity:0.65'>Pi 5 vote terminal · Ports 443, 9100</span>"]:::hw
    B2["<img src='/votechain/evidence/icons/raspberry-pi.svg' width='24' height='24'/><b>Booth Pi 2</b><br/><span style='font-size:0.8em;opacity:0.65'>Pi 5 vote terminal · Ports 443, 9100</span>"]:::hw
    B3["<img src='/votechain/evidence/icons/raspberry-pi.svg' width='24' height='24'/><b>Booth Pi 3</b><br/><span style='font-size:0.8em;opacity:0.65'>Pi 5 vote terminal · Ports 443, 9100</span>"]:::hw
    B4["<img src='/votechain/evidence/icons/raspberry-pi.svg' width='24' height='24'/><b>Booth Pi 4</b><br/><span style='font-size:0.8em;opacity:0.65'>Pi 5 vote terminal · Ports 443, 9100</span>"]:::hw
    B5["<img src='/votechain/evidence/icons/raspberry-pi.svg' width='24' height='24'/><b>Booth Pi 5</b><br/><span style='font-size:0.8em;opacity:0.65'>Pi 5 vote terminal · Ports 443, 9100</span>"]:::hw
    OPS["<img src='/votechain/evidence/icons/raspberry-pi.svg' width='24' height='24'/><b>Ops Pi</b><br/><span style='font-size:0.8em;opacity:0.65'>Poll worker operations Pi · Ports 443, 1514</span>"]:::hw
    PSW["<img src='/votechain/evidence/icons/router.svg' width='24' height='24'/><b>Polling Switch</b><br/><span style='font-size:0.8em;opacity:0.65'>Layer-2 booth uplink switch · Forwards signed bundles</span>"]:::net
    B1 --> PSW
    B2 --> PSW
    B3 --> PSW
    B4 --> PSW
    B5 --> PSW
    OPS --> PSW
  end

  subgraph XFER["Boundary: Controlled Transfer Gate"]
    direction TB
    XMETA["<img src='/votechain/evidence/icons/transfer.svg' width='24' height='24'/><b>Transfer Boundary</b><br/><span style='font-size:0.8em;opacity:0.65'>One-way media validation enclave · Port 443 ingress</span>"]:::net
    EK["<img src='/votechain/evidence/icons/transfer.svg' width='24' height='24'/><b>Export Kiosk Pi</b><br/><span style='font-size:0.8em;opacity:0.65'>Outbound transfer Pi · Receives bundles on 443</span>"]:::net
    SCAN["<img src='/votechain/evidence/icons/scan.svg' width='24' height='24'/><b>Import Scan Pi</b><br/><span style='font-size:0.8em;opacity:0.65'>Hash and malware validation Pi · Forwards to ingest on 443</span>"]:::net
    EK --> SCAN
  end

  subgraph AIR["Boundary: Airgap Core (VLAN20)"]
    direction TB
    AMETA["<img src='/votechain/evidence/icons/router.svg' width='24' height='24'/><b>Airgap Boundary</b><br/><span style='font-size:0.8em;opacity:0.65'>Isolated VLAN20 segment · Ports 443, 1514</span>"]:::net
    ING["<img src='/votechain/evidence/icons/raspberry-pi.svg' width='24' height='24'/><b>Airgap Ingest</b><br/><span style='font-size:0.8em;opacity:0.65'>Ingress Pi service · Validates and writes events on 443</span>"]:::hw
    REL["<img src='/votechain/evidence/icons/raspberry-pi.svg' width='24' height='24'/><b>Airgap Relay</b><br/><span style='font-size:0.8em;opacity:0.65'>Airgap transport Pi · Relays to ledger replicas on 443</span>"]:::hw
    OBS["<img src='/votechain/evidence/icons/shield-check.svg' width='24' height='24'/><b>Observer Pi</b><br/><span style='font-size:0.8em;opacity:0.65'>Monitoring Pi · Watches role drift and ACK anomalies on 1514</span>"]:::sec
    AL["<img src='/votechain/evidence/icons/database.svg' width='24' height='24'/><b>Airgap Ledger Cluster</b><br/><span style='font-size:0.8em;opacity:0.65'>Replicas a1-a3 on Pi hosts · Append-only records on 443</span>"]:::db
    ING --> AL
    REL --> AL
    OBS --> AL
  end

  subgraph CENT["Boundary: Central Verify (VLAN30)"]
    direction TB
    CMETA["<img src='/votechain/evidence/icons/router.svg' width='24' height='24'/><b>Central Boundary</b><br/><span style='font-size:0.8em;opacity:0.65'>Verification VLAN30 segment · Ports 443, 1514</span>"]:::net
    CING["<img src='/votechain/evidence/icons/server.svg' width='24' height='24'/><b>Central Ingest</b><br/><span style='font-size:0.8em;opacity:0.65'>Central intake host · Receives airgap mirror on 443</span>"]:::net
    CREL["<img src='/votechain/evidence/icons/server.svg' width='24' height='24'/><b>Central Relay</b><br/><span style='font-size:0.8em;opacity:0.65'>Central forwarding host · Routes to central ledger on 443</span>"]:::net
    CMON["<img src='/votechain/evidence/icons/shield-check.svg' width='24' height='24'/><b>Oversight Monitor</b><br/><span style='font-size:0.8em;opacity:0.65'>Independent monitor host · Verification alerts on 1514</span>"]:::sec
    CL["<img src='/votechain/evidence/icons/database.svg' width='24' height='24'/><b>Central Ledger Cluster</b><br/><span style='font-size:0.8em;opacity:0.65'>Replicas central-1-2-3 · Verification mirror and audit proof on 443</span>"]:::db
    CING --> CL
    CREL --> CL
    CMON --> CL
  end

  PSW -->|HTTPS 443 signed bundle export| EK
  SCAN -->|HTTPS 443 one-way ingest| ING
  AL -.->|HTTPS 443 mirror for central verification| CING
`}</pre>
          <div class="legend">
            <span><i class="dot" style="background:#2f6db3"></i>Network links</span>
            <span><i class="dot" style="background:#b9862c"></i>One-way transfer boundary</span>
            <span><i class="dot" style="background:#1b7a42"></i>Airgap-hosted Raspberry Pi services</span>
          </div>
        </article>

        <article class="panel panel-machine" data-panel="pi-machine-wiring">
          <p class="label">Booth Pi Wiring</p>
          <h2>Single Vote Machine Physical Harness</h2>
          <p>Exact attachment map for one polling booth Raspberry Pi.</p>
          <pre data-language="mermaid">{`%% diagram-id: pi-machine-wiring
flowchart LR
  classDef hw fill:#e8d5b0,stroke:#a88b4a,stroke-width:1.5px
  classDef net fill:#dce7f5,stroke:#3a6fa0,stroke-width:1.5px
  classDef db fill:#f0ebe0,stroke:#8a6e36,stroke-width:1.5px
  classDef sec fill:#d9eee2,stroke:#2d8a5e,stroke-width:1.5px
  subgraph PERI["Boundary: Booth Peripheral Harness"]
    direction TB
    PMETA["<img src='/votechain/evidence/icons/router.svg' width='24' height='24'/><b>Peripheral Boundary</b><br/><span style='font-size:0.8em;opacity:0.65'>Locally cabled device harness · HDMI, USB, GPIO, Ethernet</span>"]:::net
    TD["<img src='/votechain/evidence/icons/device-desktop.svg' width='24' height='24'/><b>Touch Display</b><br/><span style='font-size:0.8em;opacity:0.65'>Voter interaction display · Ballot UI over HDMI</span>"]:::net
    QR["<img src='/votechain/evidence/icons/qrcode.svg' width='24' height='24'/><b>QR Scanner</b><br/><span style='font-size:0.8em;opacity:0.65'>Optical scanner peripheral · Reads QR over USB</span>"]:::net
    PR["<img src='/votechain/evidence/icons/printer.svg' width='24' height='24'/><b>Receipt Printer</b><br/><span style='font-size:0.8em;opacity:0.65'>Thermal print peripheral · Receipts over USB</span>"]:::net
    KEY["<img src='/votechain/evidence/icons/key.svg' width='24' height='24'/><b>Poll Worker Key</b><br/><span style='font-size:0.8em;opacity:0.65'>Admin credential token reader · Unlocks ops over USB</span>"]:::sec
    UPS["<img src='/votechain/evidence/icons/shield-check.svg' width='24' height='24'/><b>UPS HAT</b><br/><span style='font-size:0.8em;opacity:0.65'>Pi power continuity module · Battery and brownout over I2C</span>"]:::sec
    TMP["<img src='/votechain/evidence/icons/shield-x.svg' width='24' height='24'/><b>Tamper Switch</b><br/><span style='font-size:0.8em;opacity:0.65'>Chassis intrusion sensor · Tamper alert over GPIO17</span>"]:::sec
    LAN["<img src='/votechain/evidence/icons/router.svg' width='24' height='24'/><b>Booth LAN Switch</b><br/><span style='font-size:0.8em;opacity:0.65'>Local Ethernet access switch · Uplink on RJ45</span>"]:::net
    SEAL["<img src='/votechain/evidence/icons/shield-check.svg' width='24' height='24'/><b>Security Seal Sensor</b><br/><span style='font-size:0.8em;opacity:0.65'>Enclosure seal monitor · Seal state over GPIO27</span>"]:::sec
  end

  subgraph HOST["Boundary: Booth Controller Runtime"]
    direction TB
    HMETA["<img src='/votechain/evidence/icons/raspberry-pi.svg' width='24' height='24'/><b>Host Boundary</b><br/><span style='font-size:0.8em;opacity:0.65'>booth-pi-01 Pi 5 runtime · Ports 443, 9100, SSH 22</span>"]:::hw
    PI["<img src='/votechain/evidence/icons/raspberry-pi.svg' width='24' height='24'/><b>Booth Pi Controller</b><br/><span style='font-size:0.8em;opacity:0.65'>Primary voting control Pi 5 · Session signing and print handoff</span>"]:::hw
  end

  TD -->|HDMI0| PI
  QR -->|USB-A| PI
  PR -->|USB-A| PI
  KEY -->|USB-A| PI
  UPS -->|I2C| PI
  TMP -->|GPIO17| PI
  LAN -->|eth0 RJ45| PI
  SEAL -->|GPIO27| PI
`}</pre>
          <div class="legend">
            <span><i class="dot" style="background:#2f6db3"></i>Physical cable attachment</span>
            <span><i class="dot" style="background:#1b7a42"></i>Required for session control + evidence capture</span>
          </div>
        </article>

        <article class="panel panel-network" data-panel="pi-network-segmentation">
          <p class="label">Network Segmentation</p>
          <h2>VLAN, Firewall, And Allow Rules</h2>
          <p>Exact network boundaries that keep booth Pis isolated while preserving audit flow.</p>
          <pre data-language="mermaid">{`%% diagram-id: pi-network-segmentation
flowchart LR
  classDef hw fill:#e8d5b0,stroke:#a88b4a,stroke-width:1.5px
  classDef net fill:#dce7f5,stroke:#3a6fa0,stroke-width:1.5px
  classDef db fill:#f0ebe0,stroke:#8a6e36,stroke-width:1.5px
  classDef sec fill:#d9eee2,stroke:#2d8a5e,stroke-width:1.5px
  subgraph V10["Boundary: VLAN10 Polling Segment"]
    direction TB
    V10META["<img src='/votechain/evidence/icons/router.svg' width='24' height='24'/><b>VLAN10 Boundary</b><br/><span style='font-size:0.8em;opacity:0.65'>Polling-place booth network · Ports 22, 443, 9100, 1514</span>"]:::net
    BP["<img src='/votechain/evidence/icons/raspberry-pi.svg' width='24' height='24'/><b>Booth + Ops Cluster</b><br/><span style='font-size:0.8em;opacity:0.65'>Six Pi hosts on VLAN10 · Signed bundles and health events</span>"]:::hw
    PSW["<img src='/votechain/evidence/icons/router.svg' width='24' height='24'/><b>Polling Switch</b><br/><span style='font-size:0.8em;opacity:0.65'>VLAN10 switch fabric · Local forwarding and uplink policy</span>"]:::net
    BP --> PSW
  end

  subgraph XFER["Boundary: Transfer Gate Segment"]
    direction TB
    XMETA["<img src='/votechain/evidence/icons/transfer.svg' width='24' height='24'/><b>Transfer Boundary</b><br/><span style='font-size:0.8em;opacity:0.65'>Quarantine handoff enclave · One-way ingest on 443</span>"]:::net
    EK["<img src='/votechain/evidence/icons/transfer.svg' width='24' height='24'/><b>Export Kiosk</b><br/><span style='font-size:0.8em;opacity:0.65'>Outbound transfer service · Receives bundles from polling switch</span>"]:::net
    SCAN["<img src='/votechain/evidence/icons/scan.svg' width='24' height='24'/><b>Import Scan</b><br/><span style='font-size:0.8em;opacity:0.65'>Inbound validation service · Hashes and forwards clean bundles</span>"]:::net
    EK --> SCAN
  end

  subgraph V20["Boundary: VLAN20 Airgap Segment"]
    direction TB
    V20META["<img src='/votechain/evidence/icons/router.svg' width='24' height='24'/><b>VLAN20 Boundary</b><br/><span style='font-size:0.8em;opacity:0.65'>Isolated airgap subnet · Ports 443, 1514</span>"]:::net
    ING["<img src='/votechain/evidence/icons/raspberry-pi.svg' width='24' height='24'/><b>Airgap Ingest</b><br/><span style='font-size:0.8em;opacity:0.65'>Intake Pi service · Validates signatures and writes entries</span>"]:::hw
    REL["<img src='/votechain/evidence/icons/raspberry-pi.svg' width='24' height='24'/><b>Airgap Relay</b><br/><span style='font-size:0.8em;opacity:0.65'>Transfer Pi service · Routes approved events to replicas</span>"]:::hw
    OBS["<img src='/votechain/evidence/icons/shield-check.svg' width='24' height='24'/><b>Observer Pi</b><br/><span style='font-size:0.8em;opacity:0.65'>Watchdog Pi service · Monitors ACK keys and role health</span>"]:::sec
    AL["<img src='/votechain/evidence/icons/database.svg' width='24' height='24'/><b>Airgap Ledger</b><br/><span style='font-size:0.8em;opacity:0.65'>Append-only replica set · Signed election events on 443</span>"]:::db
    ING --> AL
    REL --> AL
    OBS --> AL
  end

  subgraph V30["Boundary: VLAN30 Central Segment"]
    direction TB
    V30META["<img src='/votechain/evidence/icons/router.svg' width='24' height='24'/><b>VLAN30 Boundary</b><br/><span style='font-size:0.8em;opacity:0.65'>Independent central verify subnet · Ports 443, 1514</span>"]:::net
    CING["<img src='/votechain/evidence/icons/server.svg' width='24' height='24'/><b>Central Ingest</b><br/><span style='font-size:0.8em;opacity:0.65'>Central intake host · Pulls mirrored records on 443</span>"]:::net
    CREL["<img src='/votechain/evidence/icons/server.svg' width='24' height='24'/><b>Central Relay</b><br/><span style='font-size:0.8em;opacity:0.65'>Central routing host · Forwards mirrored stream to ledger</span>"]:::net
    CMON["<img src='/votechain/evidence/icons/shield-check.svg' width='24' height='24'/><b>Oversight Monitor</b><br/><span style='font-size:0.8em;opacity:0.65'>Audit host service · Alerts from mirrored logs on 1514</span>"]:::sec
    CL["<img src='/votechain/evidence/icons/database.svg' width='24' height='24'/><b>Central Ledger</b><br/><span style='font-size:0.8em;opacity:0.65'>Central replica set · Verification mirror on 443</span>"]:::db
    CING --> CL
    CREL --> CL
    CMON --> CL
  end

  PSW -->|HTTPS 443 signed bundle| EK
  SCAN -->|HTTPS 443 one-way ingest| ING
  AL -.->|HTTPS 443 mirror channel| CING
`}</pre>
          <div class="note">Attack simulation anchor: unauthorized relay node joining VLAN20 should fail role validation and emit observer degradation alert within one monitoring interval.</div>
        </article>

        <article class="panel panel-compose" data-panel="pi-compose-placement">
          <p class="label">Compose Placement</p>
          <h2>Container Services Mapped To Hosts</h2>
          <p>Which service runs on which Pi/host in the testing layout.</p>
          <pre data-language="mermaid">{`%% diagram-id: pi-compose-placement
flowchart LR
  classDef hw fill:#e8d5b0,stroke:#a88b4a,stroke-width:1.5px
  classDef net fill:#dce7f5,stroke:#3a6fa0,stroke-width:1.5px
  classDef db fill:#f0ebe0,stroke:#8a6e36,stroke-width:1.5px
  classDef sec fill:#d9eee2,stroke:#2d8a5e,stroke-width:1.5px
  subgraph POLL["Boundary: Polling Runtime Placement"]
    direction TB
    PMETA["<img src='/votechain/evidence/icons/router.svg' width='24' height='24'/><b>Polling Runtime Boundary</b><br/><span style='font-size:0.8em;opacity:0.65'>Booth subnet container placement · Ports 443, 9100, 1514</span>"]:::net
    P1["<img src='/votechain/evidence/icons/raspberry-pi.svg' width='24' height='24'/><b>booth-pi-[1..5]</b><br/><span style='font-size:0.8em;opacity:0.65'>Voting host group on Pi 5 · machine-api and session-store on 443, 9100</span>"]:::hw
    P2["<img src='/votechain/evidence/icons/raspberry-pi.svg' width='24' height='24'/><b>ops-pi</b><br/><span style='font-size:0.8em;opacity:0.65'>Polling operations host · Health and log shipper on 443, 1514</span>"]:::hw
  end

  subgraph AIR["Boundary: Airgap Runtime Placement"]
    direction TB
    AMETA["<img src='/votechain/evidence/icons/router.svg' width='24' height='24'/><b>Airgap Runtime Boundary</b><br/><span style='font-size:0.8em;opacity:0.65'>VLAN20 isolated deployment zone · Ports 443, 1514</span>"]:::net
    A1["<img src='/votechain/evidence/icons/raspberry-pi.svg' width='24' height='24'/><b>airgap-ingest</b><br/><span style='font-size:0.8em;opacity:0.65'>Ingest service host · Verifies boundary payloads on 443</span>"]:::hw
    A2["<img src='/votechain/evidence/icons/raspberry-pi.svg' width='24' height='24'/><b>airgap-relay</b><br/><span style='font-size:0.8em;opacity:0.65'>Relay service host · Routes approved records to ledger on 443</span>"]:::hw
    A3["<img src='/votechain/evidence/icons/database.svg' width='24' height='24'/><b>airgap-ledger-a1-a2-a3</b><br/><span style='font-size:0.8em;opacity:0.65'>Ledger replica service group · Append-only records on 443</span>"]:::db
    A4["<img src='/votechain/evidence/icons/shield-check.svg' width='24' height='24'/><b>observer-pi</b><br/><span style='font-size:0.8em;opacity:0.65'>Monitoring service host · Role and ACK integrity on 1514</span>"]:::sec
  end

  subgraph CENT["Boundary: Central Runtime Placement"]
    direction TB
    CMETA["<img src='/votechain/evidence/icons/router.svg' width='24' height='24'/><b>Central Runtime Boundary</b><br/><span style='font-size:0.8em;opacity:0.65'>VLAN30 verification deployment zone · Ports 443, 1514</span>"]:::net
    C1["<img src='/votechain/evidence/icons/server.svg' width='24' height='24'/><b>central-ingest</b><br/><span style='font-size:0.8em;opacity:0.65'>Mirror intake host · Receives mirrored airgap stream on 443</span>"]:::net
    C2["<img src='/votechain/evidence/icons/server.svg' width='24' height='24'/><b>central-relay</b><br/><span style='font-size:0.8em;opacity:0.65'>Central routing host · Forwards mirrored records to ledger on 443</span>"]:::net
    C3["<img src='/votechain/evidence/icons/database.svg' width='24' height='24'/><b>central-ledger-1-2-3</b><br/><span style='font-size:0.8em;opacity:0.65'>Central ledger replica set · Persists mirrored records on 443</span>"]:::db
    C4["<img src='/votechain/evidence/icons/shield-check.svg' width='24' height='24'/><b>audit-verifier</b><br/><span style='font-size:0.8em;opacity:0.65'>Independent audit host · Chain integrity and alerts on 1514</span>"]:::sec
  end
  P1 -->|HTTPS 443 signed bundle| A1
  A1 -->|HTTPS 443 validated records| A2
  A2 -->|HTTPS 443 append events| A3
  A4 -->|log stream 1514| A3
  A3 -.->|HTTPS 443 mirror| C1
  C1 -->|HTTPS 443 route| C2
  C2 -->|HTTPS 443 write| C3
  C4 -->|integrity checks 1514| C3
`}</pre>
          <div class="legend">
            <span><i class="dot" style="background:#1b7a42"></i>Airgap runtime on Raspberry Pi hosts</span>
            <span><i class="dot" style="background:#31449e"></i>Central independent verification lane</span>
          </div>
        </article>

        <article class="panel panel-cycle" data-panel="pi-test-cycle">
          <p class="label">Execution Flow</p>
          <h2>Per-Voter Session + Reset Cycle</h2>
          <p>How one session moves through booth Pi, transfer, ingest, and verification.</p>
          <pre data-language="mermaid">{`%% diagram-id: pi-test-cycle
flowchart LR
  classDef hw fill:#e8d5b0,stroke:#a88b4a,stroke-width:1.5px
  classDef net fill:#dce7f5,stroke:#3a6fa0,stroke-width:1.5px
  classDef db fill:#f0ebe0,stroke:#8a6e36,stroke-width:1.5px
  classDef sec fill:#d9eee2,stroke:#2d8a5e,stroke-width:1.5px
  subgraph CLIENT["Boundary: Voter Session"]
    direction TB
    VMETA["<img src='/votechain/evidence/icons/device-desktop.svg' width='24' height='24'/><b>Session Boundary</b><br/><span style='font-size:0.8em;opacity:0.65'>Supervised voter interaction boundary · No direct network ports</span>"]:::net
    V["<img src='/votechain/evidence/icons/device-desktop.svg' width='24' height='24'/><b>Voter Session</b><br/><span style='font-size:0.8em;opacity:0.65'>In-booth voter interaction · Credential, cast, or challenge</span>"]:::net
  end

  subgraph BOOTH["Boundary: Booth Runtime"]
    direction TB
    BMETA["<img src='/votechain/evidence/icons/raspberry-pi.svg' width='24' height='24'/><b>Booth Boundary</b><br/><span style='font-size:0.8em;opacity:0.65'>Pi 5 voting runtime · Voting app and reset on 443, 9100</span>"]:::hw
    B["<img src='/votechain/evidence/icons/raspberry-pi.svg' width='24' height='24'/><b>Booth Pi Service</b><br/><span style='font-size:0.8em;opacity:0.65'>Booth controller service · Session signing and secure reset on 443, 9100</span>"]:::hw
  end

  subgraph XFER["Boundary: Transfer Runtime"]
    direction TB
    TMETA["<img src='/votechain/evidence/icons/transfer.svg' width='24' height='24'/><b>Transfer Boundary</b><br/><span style='font-size:0.8em;opacity:0.65'>Export and scan gateway pair · One-way movement on 443</span>"]:::net
    T["<img src='/votechain/evidence/icons/scan.svg' width='24' height='24'/><b>Transfer Validation Service</b><br/><span style='font-size:0.8em;opacity:0.65'>Hash and malware gate · Admits signed clean bundles on 443</span>"]:::net
  end

  subgraph AIR["Boundary: Airgap Runtime"]
    direction TB
    AMETA["<img src='/votechain/evidence/icons/raspberry-pi.svg' width='24' height='24'/><b>Airgap Boundary</b><br/><span style='font-size:0.8em;opacity:0.65'>Isolated ingest service runtime · Validates and writes on 443</span>"]:::hw
    A["<img src='/votechain/evidence/icons/database.svg' width='24' height='24'/><b>Airgap Ingest Ledger</b><br/><span style='font-size:0.8em;opacity:0.65'>Ingest plus ledger write path · Persists events and emits mirror</span>"]:::db
  end

  subgraph CENT["Boundary: Central Verify Runtime"]
    direction TB
    CMETA["<img src='/votechain/evidence/icons/server.svg' width='24' height='24'/><b>Central Boundary</b><br/><span style='font-size:0.8em;opacity:0.65'>Independent verify host runtime · Reconciliation on 443, 1514</span>"]:::net
    C["<img src='/votechain/evidence/icons/shield-check.svg' width='24' height='24'/><b>Central Verify Service</b><br/><span style='font-size:0.8em;opacity:0.65'>Central audit response · Mirror integrity ok or fail on 443</span>"]:::sec
  end

  V -->|1 present credential| B
  V -->|2 cast or challenge and receipt| B
  B -->|3 export signed bundle HTTPS 443| T
  T -->|4 one-way ingest HTTPS 443| A
  A -.->|5 mirror for reconcile HTTPS 443| C
  C -->|6 audit response HTTPS 443| B
  B -->|7 session close and secure reset| V

  H1["<img src='/votechain/evidence/icons/shield-check.svg' width='24' height='24'/><b>Harness Controller</b><br/><span style='font-size:0.8em;opacity:0.65'>Mock election runner · 5x100 sessions, residual cache zero</span>"]:::sec
  H2["<img src='/votechain/evidence/icons/shield-check.svg' width='24' height='24'/><b>Integrity Monitor</b><br/><span style='font-size:0.8em;opacity:0.65'>Post-run verification · Detects duplicate vote, rogue ACK, unauthorized role</span>"]:::sec
  H1 -.-> B
  H2 -.-> C
`}</pre>
          <div class="legend">
            <span><i class="dot" style="background:#2f6db3"></i>Normal session path</span>
            <span><i class="dot" style="background:#b9862c"></i>Policy-controlled transfer boundary</span>
          </div>
        </article>
      </section>
        </div>
      </article>

  <style>

      .board-canvas {
        --ink: #0f243e;
        --ink-soft: #496789;
        --line: #c0cfdf;
        --line-strong: #a0b3c8;
        --card: #ffffff;
        --bg-a: #faf7f0;
        --bg-b: #f0ebe0;
        --accent: #b9862c;
        --accent-soft: #f8ecd3;
        --good: #1b7a42;
        --ok-ink: #1a6b3a;
        --ok-border: #8ecfaa;
        --warn: #9b6115;
        --red: #b63a3a;
        --mono: "JetBrains Mono", "SF Mono", Menlo, Consolas, monospace;
        --serif: "Libre Caslon Text", "Book Antiqua", "Palatino Linotype", serif;
        --sans: "Inter", "Avenir Next", "Segoe UI", Tahoma, sans-serif;
      }

      * { box-sizing: border-box; }

      .board-canvas {
        margin: 0;
        color: var(--ink);
        background:
          radial-gradient(ellipse 80% 50% at 15% 10%, rgba(255,255,255,0.7) 0, transparent 60%),
          linear-gradient(155deg, var(--bg-a) 0%, var(--bg-b) 100%);
        font-family: var(--sans);
      }

      .page {
        width: min(1480px, calc(100% - 32px));
        max-width: 1480px;
        margin: 40px auto 80px;
      }

      .board-breadcrumb { display: flex; align-items: center; gap: 6px; margin-bottom: 20px; font-family: var(--mono); font-size: 12px; text-transform: uppercase; letter-spacing: 0.1em; }
      .board-breadcrumb a { color: var(--accent); text-decoration: none; }
      .board-breadcrumb a:hover { text-decoration: underline; }
      .board-breadcrumb svg { color: var(--line-strong); flex-shrink: 0; }
      .board-breadcrumb span { color: var(--ink-soft); }

      /* ── Hero ─────────────────────────────── */

      .hero {
        padding: 32px 36px 28px;
        border: 1px solid var(--line);
        border-radius: 20px;
        background: linear-gradient(135deg, #ffffff 0%, #f5f0e1 100%);
        box-shadow:
          0 1px 0 rgba(255,255,255,0.9) inset,
          0 20px 50px -12px rgba(15,34,59,0.10);
      }

      .hero-top {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        gap: 32px;
      }

      .hero-text { flex: 1; }

      .hero-kicker {
        margin: 0 0 10px;
        font-family: var(--mono);
        font-size: 11px;
        font-weight: 500;
        text-transform: uppercase;
        letter-spacing: 0.18em;
        color: var(--accent);
      }

      .hero h1 {
        margin: 0;
        font-family: var(--serif);
        font-size: clamp(28px, 3vw, 42px);
        line-height: 1.12;
        color: var(--ink);
      }

      .hero-subtitle {
        margin: 14px 0 0;
        color: var(--ink-soft);
        font-size: 16px;
        line-height: 1.5;
        max-width: 640px;
      }

      .hero-verdict {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 8px;
        flex-shrink: 0;
        padding-top: 4px;
      }

      .verdict-ring {
        width: 64px;
        height: 64px;
        border-radius: 50%;
        background: linear-gradient(135deg, #e6f7ee, #d0f0dd);
        border: 2.5px solid var(--ok-border);
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 4px 14px rgba(26,107,58,0.12);
      }

      .verdict-check {
        width: 32px;
        height: 32px;
        color: var(--ok-ink);
      }

      .verdict-label {
        font-family: var(--mono);
        font-size: 10px;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.08em;
        color: var(--ok-ink);
      }

      .top-metrics {
        margin-top: 24px;
        display: grid;
        grid-template-columns: repeat(7, minmax(100px, 1fr));
        gap: 12px;
      }

      .metric {
        border: 1px solid var(--line);
        border-radius: 12px;
        padding: 14px 16px;
        background: #fff;
        transition: box-shadow 0.15s;
      }

      .metric:hover {
        box-shadow: 0 4px 12px rgba(15,34,59,0.06);
      }

      .metric-label {
        font-family: var(--mono);
        font-size: 10px;
        font-weight: 500;
        text-transform: uppercase;
        letter-spacing: 0.1em;
        color: var(--ink-soft);
      }

      .metric-value {
        margin-top: 6px;
        font-size: 32px;
        line-height: 1;
        font-weight: 700;
        font-family: var(--serif);
      }

      .metric-pass {
        border-color: var(--ok-border);
        background: linear-gradient(180deg, #f0faf4, #e6f7ee);
      }

      .metric-pass .metric-value {
        color: var(--ok-ink);
      }

      /* ── Panel Grid ──────────────────────── */

      .panel-grid {
        margin-top: 24px;
        display: grid;
        grid-template-columns: repeat(12, 1fr);
        gap: 18px;
      }

      .panel {
        border: 1px solid var(--line);
        border-radius: 16px;
        background: var(--card);
        padding: 24px;
        box-shadow: 0 8px 24px -4px rgba(15,34,59,0.06);
      }

      .panel .label {
        margin: 0 0 5px;
        font-family: var(--mono);
        font-size: 10px;
        font-weight: 600;
        letter-spacing: 0.1em;
        text-transform: uppercase;
        color: var(--ink-soft);
      }

      .panel h2 {
        margin: 0 0 6px;
        font-family: var(--serif);
        font-size: 24px;
        line-height: 1.2;
      }

      .panel p {
        margin: 0;
        color: var(--ink-soft);
        font-size: 14px;
        line-height: 1.5;
      }

      .panel-topology {
        grid-column: span 12;
      }

      .panel-machine {
        grid-column: span 6;
      }

      .panel-network {
        grid-column: span 6;
      }

      .panel-compose {
        grid-column: span 7;
      }

      .panel-cycle {
        grid-column: span 5;
      }

      .panel :global(svg) {
        width: 100%;
        height: auto;
        display: block;
        border: 1px solid #d2deec;
        border-radius: 10px;
        background: #f9fcff;
      }

      .legend {
        margin-top: 7px;
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        font-family: var(--mono);
        font-size: 10px;
        color: var(--ink-soft);
      }

      .legend span {
        display: inline-flex;
        align-items: center;
        gap: 5px;
      }

      .dot {
        width: 10px;
        height: 10px;
        border-radius: 999px;
        display: inline-block;
      }

      .note {
        margin-top: 6px;
        border: 1px dashed #cfdaea;
        border-radius: 8px;
        background: #f4f9ff;
        padding: 8px 10px;
        font-family: var(--mono);
        font-size: 10px;
        color: var(--ink-soft);
      }

      @media (max-width: 900px) {
        .panel-machine, .panel-network, .panel-compose, .panel-cycle {
          grid-column: span 12;
        }
      }

      @media (max-width: 640px) {
        .page { margin: 20px auto 40px; }
        .hero { padding: 20px; }
        .hero-top { flex-direction: column; gap: 16px; }
        .hero-verdict { flex-direction: row; align-self: flex-start; }
        .verdict-ring { width: 44px; height: 44px; }
        .verdict-check { width: 22px; height: 22px; }
        .hero h1 { font-size: 26px; }
        .top-metrics { grid-template-columns: repeat(2, 1fr); }
        .panel-grid { gap: 12px; }
      }
    
  </style>
  <MermaidClient />
</BaseLayout>
